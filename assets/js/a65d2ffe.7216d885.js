"use strict";(self.webpackChunkblog_never_del=self.webpackChunkblog_never_del||[]).push([[88],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),p=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=p(e.components);return r.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(t),m=a,b=d["".concat(s,".").concat(m)]||d[m]||u[m]||l;return t?r.createElement(b,o(o({ref:n},c),{},{components:t})):r.createElement(b,o({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,o=new Array(l);o[0]=d;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var p=2;p<l;p++)o[p]=t[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7661:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var r=t(7462),a=(t(7294),t(3905));const l={sidebar_position:3930,title:"\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c MariaDB"},o="Mysql",i={unversionedId:"\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c MariaDB",id:"\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c MariaDB",title:"\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c MariaDB",description:"\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35 Docker install",source:"@site/docs/\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c MariaDB.md",sourceDirName:".",slug:"/\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c MariaDB",permalink:"/\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c MariaDB",draft:!1,tags:[],version:"current",sidebarPosition:3930,frontMatter:{sidebar_position:3930,title:"\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c MariaDB"},sidebar:"defaultSidebar",previous:{title:"\ud83c\udfaa\ud83c\udfaa\ud83d\udc2c\u2638\ufe0f\u2638\ufe0f\u2638\ufe0f Demo \u279c \u274c",permalink:"/\ud83c\udfaa\ud83c\udfaa \ud83d\udc2c\u2638\ufe0f\u2638\ufe0f\u2638\ufe0f Demo \u279c xxx"},next:{title:"\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c Postgres",permalink:"/\ud83c\udfaa\ud83c\udfaa\ud83c\udfaa-1\ufe0f\u20e3\ud83d\udee2 DB \u279c PostGres"}},s={},p=[],c={toc:p};function u(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"mysql"},"Mysql"),(0,a.kt)("p",null,"\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35 Docker install "),(0,a.kt)("p",null,"\ud83d\udd35 MySQL"),(0,a.kt)("h1",{id:""},"\ud83d\udcaf"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'DBmysql:\n    container_name: DB-MySQL-DKP\n    image: mysql:latest\n    restart: always\n    ports:\n        - "3306:3306"\n    environment:\n        MYSQL_ROOT_PASSWORD: "xxxx"\n    volumes:\n        - /mnt/dpnvme/DMGS-DKP/DB-Mysql/file-my.cnf:/etc/mysql/my.cnf\n        - /mnt/dpnvme/DMGS-DKP/DB-Mysql/Dir-mysql:/var/lib/mysql\n')),(0,a.kt)("p",null,"\ud83d\udd35 MariaDB"),(0,a.kt)("h1",{id:"-1"},"\ud83d\udcaf"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'DBmariadb:\n    container_name: DB-MariaDB-DKP\n    image: mariadb:latest\n    restart: always\n    ports:\n        - "3366:3306"\n    environment:\n        MARIADB_ROOT_PASSWORD: "xxxxx"\n    volumes:\n        - /mnt/dpnvme/DMGS-DKP/DB-Mariadb/confdir:/etc/mysql\n        - /mnt/dpnvme/DMGS-DKP/DB-Mariadb/datadir:/var/lib/mysql\n')),(0,a.kt)("p",null,"\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35  cmd "),(0,a.kt)("p",null,"\ud83d\udd35 Login "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"mycli -h DockerProd.ark -P 3306 -u root\n\nmycli -h DockerProd.ark -P 3366 -u root\n")),(0,a.kt)("p",null,"\ud83d\udd35 Check Database \u2705"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\u25ce simple info \u279c   SHOW DATABASES;\n\u25ce detail info \u279c   select * from information_schema.schemata;\n")),(0,a.kt)("p",null,"\ud83d\udd35  create db \u2705"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"create database DBNAME CHARACTER SET utf8 COLLATE utf8_bin;\n    create database DBjumpserver CHARACTER SET utf8 COLLATE utf8_bin;\n")),(0,a.kt)("p",null,"\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35 User Creat \u2705"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"create user 'USERNAME'@'localhost' identified by 'PASSWORD';\ncreate user 'USERNAME'@'%'         identified by 'PASSWORD';\n\n    %         \u279c allow remote into mysql db from all ip on host. \n    localhost \u279c no remote! only allow login mysql use the machine that install mysql.\n        as for  'USERNAME'@'127.0.0.1 / 'USERNAME'@'host   no need care. \n")),(0,a.kt)("p",null,"\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35 User permit "),(0,a.kt)("p",null,"\ud83d\udd35 MySQL Permit level \u2705\n\u25ce ALL DB:          GRANT ALL                     ON ",(0,a.kt)("em",{parentName:"p"},"."),"            TO 'me'@'host';\n\u25ce DB Level:        GRANT ALL                     ON onedb.*        TO 'me'@'host';\n\u25ce Table Level:     GRANT ALL                     ON onedb.onetable TO 'me'@'host';\n\u25ce colume Level:    GRANT ALL (col1, col2, col3)  ON onedb.onetable TO 'me'@'host';"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"*.*\n| |-- \u279c Table permit\n|---- \u279c Database permit\n\n*.*            \u279c  allow all db & all table \nonedb.*        \u279c  allow onedb & table under that db.\nonedb.onetable \u279c  allow onetable under onedb only. \n\n\n\n\n\n\n\n\nCREATE USER 'USERjumpserver'@'%' IDENTIFIED BY 'password';\n\n\n\nshow grants;\n\n\n\nCREATE USER 'USERjumpserver'@'%' IDENTIFIED BY 'password';\n")),(0,a.kt)("p",null,"\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f------\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\u2b1b\ufe0f\u2b1b\ufe0f\n\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35 MySQL\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\ud83d\udd35\n\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f------\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f\u2b1b\ufe0f"),(0,a.kt)("p",null,"\ud83d\udd38 \u6570\u636e\u5e93\u64cd\u4f5c\n\u2022 \u521b\u5efa\u6570\u636e\u5e93   create database wpj1105;\n\u2022 \u5220\u9664\u6570\u636e\u5e93   drop database wpj1105;\n\u2022 \u4f7f\u7528\u6570\u636e\u5e93   use wpj1105;\n\u2022 \u663e\u793a\u6570\u636e\u5e93   show databases;"),(0,a.kt)("p",null,"\ud83d\udd38 \u5224\u65ad\ndrop database if exists wpj1105;  \t# \u5982\u679c\u67d0\u6570\u636e\u5e93\u5b58\u5728\u5c31\u5220\u9664\ndrop table if exists student;  \t\t# \u5982\u679c\u67d0\u8868\u5b58\u5728\u5c31\u5220\u9664"),(0,a.kt)("p",null,"\ud83d\udd38 \u8868\n\u29bf \u521b\u5efa\u8868\ncreate table student(\nid int auto_increment primary key,\nname varchar(50),\nsex varchar(20),\ndate varchar(50),\ncontent varchar(100)\n)default charset=utf8;"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\u29bf \u5220\u9664\u8868         drop table student;\n\u29bf \u67e5\u770b\u8868\u7684\u7ed3\u6784   describe student;  #\u53ef\u4ee5\u7b80\u5199\u4e3adesc student;\n")),(0,a.kt)("p",null,"\ud83d\udd38 \u63d2\u5165\u6570\u636e\n\u8fd9\u4e2a\u5c31\u8981\u770buser_token \u8868\u7ed3\u6784\u4e86\n+-------+-------+---------+-------------+-------------+\n| id    | token | user_id | create_time | expire_time |\n+-------+-------+---------+-------------+-------------+\n|    12 |       |       0 |           0 |           0 |"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    \u8bed\u6cd5: INSERT INTO table_name ( field1, field2,...fieldN ) VALUES ( value1, value2,...valueN );\n    \u5b9e\u4f8b: insert into user_token (id,token,user_id,create_time,expire_time) VALUES (98,1,2,3,4);\n    \u8fd9\u4e2a\u4f8b\u5b50\u80af\u5b9a\u662f\u5bf9\u7684\n")),(0,a.kt)("p",null,"\ud83d\udd38\u4fee\u6539\u67d0\u4e00\u6761\u6570\u636e\nupdate student set sex=\u2019\u7537\u2019 where id=4;"),(0,a.kt)("p",null,"\ud83d\udd38\u4fee\u6539\u67d0\u5b57\u6bb5\u6570\u636e\nUPDATE table_name SET field1=new-value1,\nUPDATE user SET transfer_enable=21474836480"),(0,a.kt)("p",null,"\ud83d\udd38 \u5220\u9664\u67d0\u8868\u67d0\u6761\u8bb0\u5f55\n\u5220\u9664\u4e00\u6761\u8bb0\u5f55: delete from \u8868\u540d where id=1;"),(0,a.kt)("p",null,"\ud83d\udd38 \u5220\u9664\u67d0\u8868\u6240\u6709\u8bb0\u5f55(\u4fdd\u7559\u7ed3\u6784)\nuse ss-vps1;\nshow tables;\nDELETE FROM ",(0,a.kt)("inlineCode",{parentName:"p"},"22"),";\nDELETE FROM ",(0,a.kt)("inlineCode",{parentName:"p"},"ss_node_online_log"),";\n\u2757\ufe0f\u2757\ufe0f \u8868\u540d\u5916\u9762 \u5fc5\u987b\u52a0\u4e0a `` . \u8fd9\u4e2a\u4e0d\u662f\u5355\u5f15\u53f7. \u800c\u662fESC\u952e\u4e0b\u9762\u7684\u7b26\u53f7. \u2757\ufe0f\u2757\ufe0f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\u987a\u4fbf\u628a ss-vps1 \u91cc\u7684\u65e0\u7528\u6570\u636e\u90fd\u5220\u9664\u4e86\u5427 \nDELETE FROM `ss_checkin_log`;\nDELETE FROM `ss_node_info_log`;\nDELETE FROM `user_traffic_log`;\n")))}u.isMDXComponent=!0}}]);